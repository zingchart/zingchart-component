/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.3
*/
ZC.WO.push("csv"),ZC.AA7=ZC.C8.C9({$i:function(l,e){var n=this;n.o=null,n.C=l,n.NW=e},parse:function(){var l,e=this;e.o=e.C.o;var n,a,s,_,r,t,o,u,C,i=e.NW,Z="\r\n",c=",",h=!1,g=null,p=null,f=null,v=null,d=null,x=!1,m=!1,b=null,y={};if(null!==ZC._n_(l=e.o["html5-csv"])&&(y=l),null!==ZC._n_(l=e.o.csv)&&(y=l),null!==ZC._n_(l=y.separator)&&(c=l),null!==ZC._n_(l=y.mirrored)&&(h=ZC._b_(l)),null!==ZC._n_(l=y.title)&&(g=ZC._b_(l)),null!==ZC._n_(l=y["string-values"])&&(m=ZC._b_(l)),h?(null!==ZC._n_(l=y["horizontal-labels"])&&(f=ZC._b_(l)),null!==ZC._n_(l=y["vertical-labels"])&&(p=ZC._b_(l))):(null!==ZC._n_(l=y["horizontal-labels"])&&(p=ZC._b_(l)),null!==ZC._n_(l=y["vertical-labels"])&&(f=ZC._b_(l))),null!==ZC._n_(l=y["smart-scales"])&&(v=ZC._b_(l)),null!==ZC._n_(l=y["separate-scales"])&&(d=ZC._b_(l)),null!==ZC._n_(l=y["keyval-format"])&&(x=ZC._b_(l)),null!==ZC._n_(l=y.columns)&&(b=l),null!==ZC._n_(b)&&b.length>0){n=[],null!==ZC._n_(l=y["row-separator"])?Z=l:i.split(/\n/).length>0?Z="\n":i.split(/\r/).length>0&&(Z="\r");var w=i.split(Z),O=0;for(_=0,r=w.length;_<r;_++)if(""!==w[_].replace(/\s+/g,"")){n[O]=[];for(var A=0,B=0;A<w[_].length-1;)s=w[_].substring(A,A+b[B]),n[O].push(s),A+=b[B],B++;O++}}else{n=[[]],a=null!==ZC._n_(l=y["row-separator"])?new RegExp("(\\"+c+"|"+l+'|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+c+l+"]*))","gi"):new RegExp("(\\"+c+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+c+"\\r\\n]*))","gi");for(var N=null;N=a.exec(i);){var Q=N[1];Q.length&&Q!==c&&n.push([]),s=N[2]?N[2].replace(new RegExp('""',"g"),'"'):N[3],n[n.length-1].push(s)}}var j=[];for(_=0,r=n.length;_<r;_++)0!==n[_].join("").replace(/\s+/g,"").length&&j.push(n[_]);var z=0,E=0;if((null===ZC._n_(g)||g)&&(j.length>1&&1===j[0].length?(null===ZC._n_(e.o.title)?e.o.title={text:j[0][0]}:null===ZC._n_(e.o.title.text)&&(e.o.title.text=j[0][0]),g=!0):g=!1),g&&z++,h){for(n=[],g&&n.push(j[0]),t=z,o=j.length;t<o;t++)for(u=0,C=j[t].length;u<C;u++)null===ZC._n_(n[u+z])&&(n[u+z]=[]),n[u+z].push(j[t][u]);j=n}if("function"==typeof zingchart.csvParser)for(t=0,o=j.length;t<o;t++)for(u=0,C=j[t].length;u<C;u++)j[t][u]=zingchart.csvParser.call(this,j[t][u],t,u,e.C.A.K);var R=0;for(_=0,r=j.length;_<r;_++)R=ZC.BQ(R,j[_].length);var W=[];if(null===ZC._n_(p)){var k=j[z].join("").length;p=j[z].join("").replace(/[0-9]/g,"").length/k>.75}p&&(W=j[z],z++);var J=[];if(null===ZC._n_(f))if(p&&-1!==W[0].indexOf("\\"))f=!0;else{var M="";for(t=z,o=j.length;t<o;t++)M+=j[t][0];var P=M.length;f=M.replace(/[0-9]/g,"").length/P>.75}if(f){for(t=z,o=j.length;t<o;t++)x?J.push(ZC._i_(j[t][E])):J.push(j[t][E]);E++}var S=[],F=[];for(u=E;u<R;u++){F[u-E]=[];var G=null,K=null,L=0,U=null;for(t=z,o=j.length;t<o;t++)if(null!==ZC._n_(j[t][u])&&""!==j[t][u]&&"undefined"!=typeof j[t][u]){s=j[t][u],null!==ZC._n_(U)||m||(U=s.replace(/[0-9\-\,\.\+\e]+/g,"%v")),m||(s=s.replace(/[^0-9\-\,\.\+\e]+/g,""));var V=s.indexOf("."),$=s.indexOf(",");-1!==V&&-1!==$?V<$?(G=".",K=",",L=ZC.BQ(0,s.length-$)):(G=",",K=".",L=ZC.BQ(0,s.length-V)):-1===V&&-1!==$?s.length-$-1==3?(G=",",K="."):(G=".",K=",",L=ZC.BQ(0,s.length-$)):-1!==V&&-1===$&&(s.length-V-1==3?(G=".",K=","):(G=",",K=".",L=ZC.BQ(0,s.length-V))),"."===G&&(s=s.replace(/\./g,"").replace(/,/g,".")),","===G&&(s=s.replace(/,/g,"")),F[u-E].push(m?s:ZC._f_(s))}else F[u-E].push(null);S[u-E]={},null!==ZC._n_(U)&&(S[u-E].format=U),null!==ZC._n_(G)&&(S[u-E]["thousands-separator"]=G),null!==ZC._n_(G)&&(S[u-E]["decimals-separator"]=K),0!==L&&(S[u-E].decimals=L)}if(x)for(_=0,r=F.length;_<r;_++)for(var q=0;q<F[_].length;q++)F[_][q]=[J[q],F[_][q]];var D=[];switch(e.C.AF){case"line":case"area":case"vbar":case"hbar":case"line3d":case"area3d":case"vbar3d":case"hbar3d":case"mixed":null===ZC._n_(e.o["scale-x"])&&(e.o["scale-x"]={});var H=[];f&&null!==ZC._n_(W[0])&&(H=W[0].split(/\\/)),null!==ZC._n_(H[0])&&(null===ZC._n_(e.o["scale-x"].label)&&(e.o["scale-x"].label={}),null===ZC._n_(e.o["scale-x"].label.text)&&(e.o["scale-x"].label.text=H[0])),f&&(null===ZC._n_(e.o["scale-x"].values)?e.o["scale-x"].values=J:null===ZC._n_(e.o["scale-x"].labels)&&(e.o["scale-x"].labels=J));var I=[];if(null!==ZC._n_(d)&&d)for(_=0,r=F.length;_<r;_++)I[_]="scale-y"+(0===_?"":"-"+(_+1));else if(null!==ZC._n_(v)&&v){var T={},X=0,Y=[];for(_=0,r=F.length;_<r;_++){for(var ll=0,el=0,nl=F[_].length;el<nl;el++)ll+=F[_][el];ll/=F[_].length;var al=Math.round(ZC.GU(ll)/Math.LN10/2);null===ZC._n_(T[al])&&(T[al]="scale-y"+(0===X?"":"-"+(X+1))),-1===ZC.AV(Y,S[_].format)?(I[_]="scale-y"+(0===X?"":"-"+(X+1)),X++):(I[_]=T[al],X++),Y.push(S[_].format)}}for(0===I.length&&(I[0]="scale-y"),null===ZC._n_(e.o.series)&&(e.o.series=[]),_=0,r=F.length;_<r;_++)null===ZC._n_(e.o.series[_])&&(e.o.series[_]={}),e.o.series[_].values=F[_],p&&(null===ZC._n_(e.o.series[_].text)&&(e.o.series[_].text=W[_+E],D.push(W[_+E])),null===ZC._n_(e.o.series[_]["legend-text"])&&(e.o.series[_]["legend-text"]=W[_+E],D.push(W[_+E])),null===ZC._n_(e.o.series[_]["tooltip-text"])&&null!==ZC._n_(S[_].format)&&(e.o.series[_]["tooltip-text"]=S[_].format)),null!==ZC._n_(I[_])&&(null===ZC._n_(e.o[I[_]])&&(e.o[I[_]]={}),null!==ZC._n_(H[1])&&(null===ZC._n_(e.o[I[_]].label)&&(e.o[I[_]].label={}),null===ZC._n_(e.o[I[_]].label.text)&&(e.o[I[_]].label.text=H[1])),null===ZC._n_(e.o.series[_].scales)&&(e.o.series[_].scales="scale-x,"+I[_]),null===ZC._n_(e.o[I[_]].decimals)&&null!==ZC._n_(S[_].decimals)&&(e.o[I[_]].decimals=S[_].decimals),null===ZC._n_(e.o[I[_]]["thousands-separator"])&&null!==ZC._n_(S[_]["thousands-separator"])&&(e.o[I[_]]["thousands-separator"]=S[_]["thousands-separator"]),null===ZC._n_(e.o[I[_]]["decimals-separator"])&&null!==ZC._n_(S[_]["decimals-separator"])&&(e.o[I[_]]["decimals-separator"]=S[_]["decimals-separator"]),null===ZC._n_(e.o[I[_]].format)&&null!==ZC._n_(S[_].format)&&(e.o[I[_]].format=S[_].format));break;case"pie":case"pie3d":case"gauge":case"nestedpie":if(null===ZC._n_(e.o.scale)&&(e.o.scale={}),f&&null!==ZC._n_(W[0])){var sl=W[0].split(/\\/);null===ZC._n_(e.o.scale.label)&&(e.o.scale.label={}),null===ZC._n_(e.o.scale.label.text)&&(e.o.scale.label.text=sl[0])}for(f&&(null===ZC._n_(e.o.scale.values)?e.o.scale.values=J:null===ZC._n_(e.o.scale.labels)&&(e.o.scale.labels=J)),null===ZC._n_(e.o.series)&&(e.o.series=[]),_=0,r=F.length;_<r;_++)null===ZC._n_(e.o.series[_])&&(e.o.series[_]={}),e.o.series[_].values=F[_],p&&(null===ZC._n_(e.o.series[_].text)&&(e.o.series[_].text=W[_+E],D.push(W[_+E])),null===ZC._n_(e.o.series[_]["legend-text"])&&(e.o.series[_]["legend-text"]=W[_+E],D.push(W[_+E])),null===ZC._n_(e.o.series[_]["tooltip-text"])&&null!==ZC._n_(S[_].format)&&(e.o.series[_]["tooltip-text"]=S[_].format)),null===ZC._n_(e.o["scale-v"])&&(e.o["scale-v"]={}),null===ZC._n_(e.o["scale-v"].decimals)&&null!==ZC._n_(S[_].decimals)&&(e.o["scale-v"].decimals=S[_].decimals),null===ZC._n_(e.o["scale-v"]["thousands-separator"])&&null!==ZC._n_(S[_]["thousands-separator"])&&(e.o["scale-v"]["thousands-separator"]=S[_]["thousands-separator"]),null===ZC._n_(e.o["scale-v"]["decimals-separator"])&&null!==ZC._n_(S[_]["decimals-separator"])&&(e.o["scale-v"]["decimals-separator"]=S[_]["decimals-separator"]),null===ZC._n_(e.o["scale-v"].format)&&null!==ZC._n_(S[_].format)&&(e.o["scale-v"].format=S[_].format)}return""!==D.join("")&&null===ZC._n_(e.o.legend)&&(e.o.legend={}),e.o=JSON.parse(JSON.stringify(e.o).replace(/\\\\/g,"\\")),e.o}});