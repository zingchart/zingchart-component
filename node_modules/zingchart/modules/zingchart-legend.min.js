/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.3
*/
ZC.A2V=ZC.D0.C9({$i:function(e,i){this.b(e);var l=this;l.BF=e,l.JA=!1,l.Z=null,l.A74="",l.KM=1,l.GY=1,l.AF="scroll-"+(i||"y")},parse:function(){var e,i=this;i.K=i.BF.K+"-legend-"+i.AF;var l=i.BF.A.H.B8,n="("+i.BF.A.AF+")";i.AX=new ZC.HS(i.BF),l.load(i.AX.o,[n+".legend.scroll.bar",i.AF+".bar"]),null!==ZC._n_(e=i.o.bar)&&i.AX.append(e),i.AX.parse(),i.AZ=new ZC.HS(i.BF),l.load(i.AZ.o,[n+".legend.scroll.handle",i.AF+".handle"]),null!==ZC._n_(e=i.o.handle)&&i.AZ.append(e),i.AZ.parse()},paint:function(){var e,i=this;if(!i.JA){i.Z=ZC.AK(i.BF.A.K+"-legend-scroll-c");var l=ZC.AK(i.H.K+"-top");"scroll-y"===i.AF?(i.AX.iX=i.BF.iX+i.BF.I-i.AX.I-1,i.AX.iY=i.BF.EJ,i.AX.F=i.BF.F-(i.BF.KI?i.BF.KI.F:0)-(i.BF.EJ-i.BF.iY),e=Math.ceil(i.BF.B6.length/i.GY-i.BF.EG/i.GY)+1,i.AZ.F=i.AX.F/e,i.AZ.iY=i.AX.iY,0!==i.BF.D2.min&&(i.AZ.iY+=i.BF.D2.min/i.GY*i.AZ.F),ZC.AK(i.K+"-legend-handle")?(ZC.A5("#"+i.K+"-legend-handle").css("left",i.AX.iX+"px").css("top",i.AZ.iY+"px").css("height",i.AZ.F-0*i.AZ.AT+"px"),ZC.A5("#"+i.K+"-legend-bar").css("left",i.AX.iX+"px").css("top",i.AX.iY+"px"),ZC.A5("#"+i.BF.K+"-frame").css("left",i.BF.iX+"px").css("top",i.BF.EJ+"px"),i.paint_()):(i.AAG=ZC.Q.HW({cls:"zc-abs zc-scroll zc-scroll-y-bar "+i.BF.K+"-scroll-y-legend-bar",id:i.K+"-legend-bar",wh:i.AX.I+"/"+i.AX.F,tl:i.AX.iY+"/"+i.AX.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.Z2=ZC.Q.HW({cls:"zc-abs zc-scroll zc-scroll-y-handle "+i.BF.K+"-scroll-y-legend-handle",id:i.K+"-legend-handle",wh:i.AX.I-0*i.AZ.AT+"/"+(i.AZ.F-0*i.AZ.AT),tl:i.AZ.iY+"/"+i.AX.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.Z2.style.cursor="pointer",i.paint_())):"scroll-x"===i.AF&&(i.AX.iX=i.BF.iX,i.AX.iY=i.BF.iY+i.BF.F-i.AX.F-1,i.AX.I=i.BF.I,e=Math.ceil(i.BF.B6.length/i.KM-i.BF.EG/i.KM)+1,i.AZ.I=i.AX.I/e,i.AZ.iX=i.AX.iX,0!==i.BF.D2.min&&(i.AZ.iX+=i.BF.D2.min/i.KM*i.AZ.I),ZC.AK(i.K+"-legend-handle")?(ZC.A5("#"+i.K+"-legend-handle").css("left",i.AZ.iX+"px").css("top",i.AX.iY+"px").css("width",i.AZ.I-0*i.AZ.AT+"px"),ZC.A5("#"+i.K+"-legend-bar").css("left",i.AX.iX+"px").css("top",i.AX.iY+"px"),ZC.A5("#"+i.BF.K+"-frame").css("left",i.BF.iX+"px").css("top",i.BF.EJ+"px"),i.paint_()):(i.AAD=ZC.Q.HW({cls:"zc-abs zc-scroll zc-scroll-x-bar "+i.BF.K+"-scroll-x-legend-bar",id:i.K+"-legend-bar",wh:i.AX.I+"/"+i.AX.F,tl:i.AX.iY+"/"+i.AX.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.Z9=ZC.Q.HW({cls:"zc-abs zc-scroll zc-scroll-x-handle "+i.BF.K+"-scroll-x-legend-handle",id:i.K+"-legend-handle",wh:i.AZ.I-0*i.AZ.AT+"/"+(i.AX.F-0*i.AZ.AT),tl:i.AX.iY+"/"+i.AZ.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.Z9.style.cursor="pointer",i.paint_())),ZC.move||i.bind()}},paint_:function(){var e,i,l=this;"scroll-y"===l.AF?((e=new ZC.HS(l)).K=l.BF.K+"-scroll-y-legend-bar",e.copy(l.AX),e.Z=l.Z,e.iX=l.AX.iX,e.iY=l.AX.iY,e.I=l.AX.I,e.F=l.AX.F,e.paint(),(i=new ZC.HS(l)).K=l.BF.K+"-scroll-y-legend-handle",i.copy(l.AZ),i.Z=l.Z,i.iX=l.AX.iX,i.iY=l.AZ.iY,i.I=l.AZ.I,i.F=l.AZ.F,i.paint()):"scroll-x"===l.AF&&((e=new ZC.HS(l)).K=l.BF.K+"-scroll-x-legend-bar",e.copy(l.AX),e.Z=l.Z,e.iX=l.AX.iX,e.iY=l.AX.iY,e.I=l.AX.I,e.F=l.AX.F,e.paint(),(i=new ZC.HS(l)).K=l.BF.K+"-scroll-x-legend-handle",i.copy(l.AZ),i.Z=l.Z,i.iX=l.AZ.iX,i.iY=l.AX.iY,i.I=l.AZ.I,i.F=l.AX.F,i.paint())},update:function(e){var i,l,n,o,a,A,r=this,t=r.BF;if("scroll-y"===r.AF){if(e<r.AZ.iY&&!1,e===r.AZ.iY)return;r.AZ.iY=e,ZC.A5("#"+r.K+"-legend-handle").css("top",e+"px"),i=r.AZ.iY-r.AX.iY,o=Math.ceil(t.B6.length/r.GY-t.EG/r.GY)+1,l=r.AX.F/o,A=r.GY}else if("scroll-x"===r.AF){if(e>r.AZ.iX&&!1,e===r.AZ.iX)return;r.AZ.iX=e,ZC.A5("#"+r.K+"-legend-handle").css("left",e+"px"),i=r.AZ.iX-r.AX.iX,o=Math.ceil(t.B6.length/r.KM-t.EG/r.KM)+1,l=r.AX.I/o,A=r.KM}n=Math.round(i/l),a=t.B6.length-t.EG,t.B6.length%A&&(a+=A-t.B6.length%A),t.D2.min=Math.min(n*A,a),t.D2.max=t.D2.min+t.EG,t.VK(),t.clear(!1),t.parse(),t.paint(),r.paint_(),r.bind()},unbind:function(){var e=this;ZC.A5("."+e.BF.K+"-"+e.AF+"-legend-handle").unbind("mousedown touchstart",e.R6),ZC.A5("."+e.BF.K+"-"+e.AF+"-legend-bar").unbind("click",e.RB)},bind:function(){var e=this,i=e.H.K,l=0,n=0;e.R6=function(o){if(o.preventDefault(),!(o.button>1)){for(var a=o.target;a&&"BODY"!==a.tagName.toUpperCase()&&-1===ZC.Q.SW(a).indexOf("zc-"+e.AF+"-handle");)a=a.parentNode;if((ZC.mobile||!(o.which>1))&&a){var A=ZC.Q.MA(o),r=ZC.A5("#"+i+"-top").offset();if("scroll-y"===e.AF){var t=A[1]-r.top;n=t-e.AZ.iY}else if("scroll-x"===e.AF){var d=A[0]-r.left;l=d-e.AZ.iX}return ZC.A5(document.body).bind("mousemove touchmove",e.R9),ZC.A5(document.body).bind("mouseup touchend",e.NI),e.JA=!0,!1}}},e.R9=function(o){if(o.preventDefault(),e.JA){var a=ZC.Q.MA(o),A=ZC.A5("#"+i+"-top").offset();if("scroll-y"===e.AF){var r=a[1]-A.top;r-n<e.AX.iY&&(r=e.AX.iY+n),r-n+e.AZ.F>e.AX.iY+e.AX.F&&(r=e.AX.iY+e.AX.F+n-e.AZ.F),e.update(r-n)}else if("scroll-x"===e.AF){var t=a[0]-A.left;t-l<e.AX.iX&&(t=e.AX.iX+l),t-l+e.AZ.I>e.AX.iX+e.AX.I&&(t=e.AX.iX+e.AX.I+l-e.AZ.I),e.update(t-l)}}return!1},e.NI=function(){return e.H.KL=e.A74.split(","),e.JA&&(ZC.A5(document.body).unbind("mousemove touchmove",e.R9),ZC.A5(document.body).unbind("mouseup touchend",e.NI),e.JA=!1),!1},e.A3N=function(i){(i.detail?-120*i.detail:i.wheelDelta)/120>0?e.update(ZC.BQ(e.AX.iY,e.AZ.iY-e.AZ.F)):e.update(ZC.CY(e.AX.iY+e.AX.F-e.AZ.F,e.AZ.iY+e.AZ.F))},e.RB=function(l){e.JA=!0;var n=ZC.Q.MA(l),o=ZC.A5("#"+i+"-top").offset();"scroll-y"===e.AF?n[1]-o.top>e.AZ.iY?e.update(ZC.CY(e.AX.iY+e.AX.F-e.AZ.F,e.AZ.iY+e.AZ.F)):e.update(ZC.BQ(e.AX.iY,e.AZ.iY-e.AZ.F)):"scroll-x"===e.AF&&(n[0]-o.left>e.AZ.iX?e.update(ZC.CY(e.AX.iX+e.AX.I-e.AZ.I,e.AZ.iX+e.AZ.I)):e.update(ZC.BQ(e.AX.iX,e.AZ.iX-e.AZ.I))),e.JA=!1},ZC.A5("."+e.BF.K+"-"+e.AF+"-legend-handle").bind("mousedown touchstart",e.R6),ZC.A5("."+e.BF.K+"-"+e.AF+"-legend-bar").bind("click",e.RB)}}),ZC.A1L=ZC.DT.C9({$i:function(e){this.b(e);var i=this;i.OA="legend",i.B6=null,i.PY=null,i.NC="x1",i.II="hide",i.QX="",i.PL="",i.UO=!1,i.V2=!1,i.TB="none",i.U9="header",i.EG=9999,i.DD=null,i.BR=null,i.Z3=null,i.A2=null,i.NK=null,i.FN=null,i.KI=null,i.Q0=0,i.MB=0,i.YM=!0,i.EJ=0,i.GM=0,i.sAlign="",i.JU="",i.D2={enabled:!1,min:-1,max:-1,page:-1,pages:-1},i.LX=!1,i.NA=!1,i.N5=-1,i.RZ=!1,i.A45=1,i.WC=0,i.L7=!1,i.XK=!1,i.YP=!1,i.XN=[]},highlightItem:function(e){var i,l,n=this,o=!1,a=ZC.move,A=n.L7;-1!==e&&(A=n.L7||n.A.AY.A6[e].L7),n.o.item&&null!==ZC._n_(i=n.o.item["highlight-item"])&&(o=ZC._b_(i),null===ZC._n_(n.o["highlight-legend"])&&null===n.A.AY.A6[e].o["highlight-legend"]&&(A=o)),(o||A)&&(o&&(n.D["highlight-item"]=e),A&&(n.D["highlight-legend"]=ZC._i_(e)),l=n.scrollTo(ZC._i_(e)),n.VK(),n.clear(!0,l),n.YM=!0,n.parse(),n.fixPlacement(!0),n.paint(),ZC.move=a)},scrollTo:function(e){var i,l,n=this,o=!1;return e>=0&&(e<n.D2.min||e>=n.D2.max)&&(o=!0,"scroll"===n.TB?(e%(l="scroll-y"===n.DD.AF?n.DD.GY:n.DD.KM)&&(e-=e%l),n.D2.min=e,n.D2.max=e+n.EG,n.D2.max>n.B6.length&&(n.D2.min=n.B6.length-n.EG,n.B6.length%l&&(n.D2.min=n.D2.min+(l-n.B6.length%l)),n.D2.max=n.B6.length)):"page"===n.TB&&(i=Math.floor(e/n.EG),n.D2.min=i*n.EG,n.D2.max=n.D2.min+n.EG,n.D2.page=i+1)),o},parse:function(){var e,i,l,n=this;n.D["force-margins"]=!0,n.Q0=0,n.MB=0,null!==ZC._n_(e=n.A.A.D["graph-"+n.A.K+"-legend-info"])&&(n.o.x=e.x-n.A.iX,n.o.y=e.y-n.A.iY);var o;if(ZC.move)n.FN&&n.FN.parse(),n.KI&&n.KI.parse();else{o=n.A.H.B8;var a="("+n.A.AF+")";n.b(),n.assign_a([["collapse","LX","b"],["minimize","UO","b"],["draggable","V2","b"],["shared","RZ","b"],["overflow","TB"],["max-items","EG","i"],["group","A45","i"],["drag-handler","U9"],["highlight-plot","WC","b"],["highlight-legend","L7","b"],["align","sAlign"],["vertical-align","JU"]]),n.LX&&!n.UO&&(n.LX=!1),zingchart.DEV.MEDIARULES&&(n.D["forced-align-position"]||(n.alignPosition({align:n.sAlign,"vertical-align":n.JU,layout:n.NC}),n.D["forced-align-position"]=!0)),n.WC&&null===ZC._n_(n.o["highlight-legend"])&&(n.L7=n.WC),n.BR=new ZC.DT(n),o.load(n.BR.o,a+".legend.item"),n.o.item&&null===ZC._n_(n.o.item.visible)&&(n.o.item.visible=!0),n.BR.append(n.o.item),n.BR.parse(),n.Z3=new ZC.DT(n),o.load(n.Z3.o,a+".legend.item-off"),n.o["item-off"]&&null===ZC._n_(n.o["item-off"].visible)&&(n.o["item-off"].visible=!0),n.Z3.append(n.o["item-off"]),n.Z3.parse(),n.A2=new ZC.DX(n),o.load(n.A2.o,a+".legend.marker"),n.o.marker&&null===ZC._n_(n.o.marker.visible)&&(n.o.marker.visible=!0),n.A2.append(n.o.marker),n.A2.D.type="default",n.A2.D["show-marker"]=!0,n.A2.D["show-line"]=!1,null!==ZC._n_(e=n.A2.o.type)&&(n.A2.D.type=e),null!==ZC._n_(e=n.A2.o["show-line"])&&(n.A2.D["show-line"]=ZC._b_(e)),null!==ZC._n_(e=n.BR.o["marker-style"])&&(n.A2.D.type=e),null!==ZC._n_(e=n.BR.o["show-line"])&&(n.A2.D["show-line"]=ZC._b_(e)),null!==ZC._n_(e=n.BR.o["show-marker"])&&(n.A2.o.visible=ZC._b_(e)),n.A2.parse(),n.NK=new ZC.DX(n),o.load(n.NK.o,a+".legend.marker-off"),n.o["marker-off"]&&(n.o["marker-off"].visible=!0),n.NK.append(n.o["marker-off"]),n.NK.D.type="default",n.NK.D["show-marker"]=!0,n.NK.D["show-line"]=!1,null!==ZC._n_(e=n.NK.o.type)&&(n.NK.D.type=e),null!==ZC._n_(e=n.NK.o["show-line"])&&(n.NK.D["show-line"]=ZC._b_(e)),null!==ZC._n_(e=n.BR.o["marker-style"])&&(n.NK.D.type=e),null!==ZC._n_(e=n.BR.o["show-line"])&&(n.NK.D["show-line"]=ZC._b_(e)),null!==ZC._n_(e=n.BR.o["show-marker"])&&(n.NK.o.visible=ZC._b_(e)),n.NK.parse(),(null!==ZC._n_(e=n.o.header)||n.V2||n.UO)&&(n.FN=new ZC.DT(n),n.FN.OA="legendheader",n.FN.GJ="zc-legend-item "+n.K+"-header",n.FN.K=n.K+"-header",o.load(n.FN.o,a+".legend.header"),n.FN.o.text=n.FN.o.text||" ",n.FN.append(e),n.FN.parse(),n.FN.AM||(n.FN=null)),null!==ZC._n_(e=n.o.footer)&&(n.KI=new ZC.DT(n),n.KI.OA="legendfooter",n.KI.GJ="zc-legend-item "+n.K+"-footer",n.KI.K=n.K+"-footer",o.load(n.KI.o,a+".legend.footer"),n.KI.append(e),n.KI.parse(),n.KI.AM||(n.KI=null));var A=n.A.AY.A6;null!==ZC._n_(e=n.o.layout)?n.NC=e:25*A.length>n.A.F&&(n.NC="x"+Math.ceil(25*A.length/n.A.F)),null!==ZC._n_(e=n.o["toggle-action"])&&(n.II=e),n.QX=n.PL=n.II,null!==ZC._n_(n.o.item)&&null!==ZC._n_(e=n.o.item["toggle-action"])&&(n.QX=e),null!==ZC._n_(n.o.marker)&&null!==ZC._n_(e=n.o.marker["toggle-action"])&&(n.PL=e);var r=[];for(n.B6=[],i=0,l=A.length;i<l;i++){var t=n.A.AY.M1[i],d=new ZC.DT(n);d.copy(n.BR),d.append(A[t].o["legend-item"]),null===ZC._n_(d.o.text)&&null!==ZC._n_(e=A[t].A5R)&&(d.o.text=e),null===ZC._n_(d.o.text)&&null!==ZC._n_(e=A[t].AR)&&(d.o.text=e),d.AR=null===ZC._n_(d.o.text)?"Series "+(t+1):d.o.text,d.D.order=t,d.D.index=t,null!==ZC._n_(A[t].o["legend-item"])&&null!==ZC._n_(e=A[t].o["legend-item"].order)&&(d.D.order=ZC._i_(e)),r.push([i,t,d.D.order]),-1!==d.AR.indexOf("%")&&(d.KE=function(e){if(A[i]&&A[i].FP(0)){var l=ZC.AO.O4(n.BR.o,A[i].o);e=A[i].FP(0).KE(e,l)}return e}),d.parse(),n.B6.push(d)}for(r.sort(function(e,i){return e[2]-i[2]}),i=0;i<r.length;i++)r[i][2]=i,A[r[i][1]].o["legend-item"]=A[r[i][1]].o["legend-item"]||{},A[r[i][1]].o["legend-item"].order=r[i][2],n.B6[r[i][0]].D.order=r[i][2];(e=n.A.D["legend-info"])&&(n.NA=e.collapsed)}if(n.B6&&n.A2){"page"===n.TB?((e=n.A.D["legend-info"])?(n.D2.min=e.min,n.D2.max=e.max,n.D2.page=e.page):(n.D2.min=0,n.D2.max=n.EG,n.D2.page=1),n.D2.pages=Math.ceil(n.B6.length/n.EG),n.D2.page>n.D2.pages&&(n.D2.page=n.D2.pages,n.D2.min=(n.D2.page-1)*n.EG,n.D2.max=n.D2.page*n.EG-1),n.D2.page=ZC.CY(n.D2.page,n.D2.pages)):"scroll"===n.TB?(e=n.A.D["legend-info"])?(n.D2.min=e.min,n.D2.max=e.max,n.D2.page=e.page):(n.D2.min=0,n.D2.max=n.EG,n.D2.page=1):(n.D2.min=0,n.D2.max="hidden"===n.TB?n.EG:n.B6.length,n.D2.page=1),n.VK(!1),n.B6.sort(function(e,i){return e.D.order-i.D.order}),n.o["reverse-series"]&&n.B6.reverse();var Z=.9*n.A.I;null!==ZC._n_(n.o.width)&&(Z=n.I);var s=0,g=0,C=-ZC.MAX,c=-ZC.MAX,p=n.A2.D["show-line"]?3:2,u=0,m=1,D=1;if("float"===n.NC){for(i=0,l=n.B6.length;i<l;i++)if(u+=n.B6[i].AM?1:0,!(i<n.D2.min||i>=n.D2.max||n.NA)&&n.B6[i].AM){var F=n.B6[i].I+n.B6[i].DV+n.B6[i].E6+p*n.B6[i].DH;c=ZC.BQ(c,n.B6[i].F+n.B6[i].E5+n.B6[i].DP),s+F>Z?(C=ZC.BQ(C,s),g+=c,s=F,c=ZC.BQ(c,n.B6[i].F+n.B6[i].E5+n.B6[i].DP)):s+=F}C=ZC.BQ(C,s),c!==-ZC.MAX&&(g+=c),C!==-ZC.MAX&&(s=C)}else{var h=0;for(i=0,l=n.B6.length;i<l;i++)u+=n.B6[i].AM?1:0,i<n.D2.min||i>=n.D2.max||n.NA||(h+=n.B6[i].AM?1:0);var f=ZC.AP.A25(n.NC,h);for(m=f[0],D=f[1],i=0,l=n.B6.length;i<l;i++)(i<n.D2.min||i>=n.D2.max||n.NA)&&("scroll"!==n.TB||u<=n.EG)||n.B6[i].AM&&(C=ZC.BQ(C,n.B6[i].I+n.B6[i].DV+n.B6[i].E6+p*n.B6[i].DH),c=ZC.BQ(c,n.B6[i].F+n.B6[i].E5+n.B6[i].DP),1===D&&(g+=n.B6[i].F+n.B6[i].E5+n.B6[i].DP));s=D*C,g=m*c}if("page"===n.TB&&u>n.EG&&(n.D2.enabled=!0),"scroll"===n.TB&&u>n.EG&&(n.DD||(!m||m>D?(n.DD=new ZC.A2V(n,"y"),o.load(n.DD.o,".scroll-y")):(n.DD=new ZC.A2V(n,"x"),o.load(n.DD.o,".scroll-x")),n.DD.append(n.o.scroll),n.DD.KM=m,n.DD.GY=D,n.DD.parse()),n.NA||("scroll-y"===n.DD.AF?s+=n.DD.AX.I:g+=n.DD.AX.F)),n.FN){var _=n.FN.I;n.V2&&"icon"===n.U9?(_+=15,n.UO&&(_+=25)):n.UO&&(_+=15),s=ZC.BQ(s,_)}n.KI&&(s=ZC.BQ(s,n.KI.I));var B=!1,X=!1;if(null===ZC._n_(n.o.width)&&(n.o.width=s,B=!0),null===ZC._n_(n.o.height)&&(n.o.height=g,X=!0),n.iX=-1,n.iY=-1,!ZC.move&&n.FN&&null!==ZC._n_(e=n.A.A.D["legend"+n.A.L+"-xy-ratio"])){n.locate();var v=n.I+n.EP+n.FK,K=n.F+n.FJ+n.FS,I=n.RZ?n.A.A:n.A;n.iX=I.I*e[0],n.iX=ZC.BQ(n.iX,1.1),n.o.x=n.iX=ZC.CY(n.iX,I.I-v-2),n.iY=(I.F-n.FN.F)*e[1],n.iY=ZC.BQ(n.iY,1.1),n.o.y=n.iY=ZC.CY(n.iY,I.F-K-n.FN.F-2)}if(n.locate(),null!==ZC._n_(n.o.position)&&"undefined"!=typeof n.D["position-info"]?(n.D["position-info"][0]>.5&&(n.Q0+=n.EP+n.FK),n.D["position-info"][1]>.5?n.MB+=n.FJ+n.FS:(n.FN&&(n.MB-=n.FN.F),n.KI&&(n.MB-=n.KI.F),n.D2&&n.D2.enabled&&(n.MB-=20))):((0===n.A.iX||n.iX+n.I/2>n.A.iX+n.A.I/2)&&(n.Q0+=n.EP+n.FK),(0===n.A.iY||n.iY+n.F/2>n.A.iY+n.A.F/2)&&(n.MB+=n.FJ+n.FS)),!ZC.move&&(e=n.A.A.D["graph-"+n.A.K+"-legend-info"])&&(e.x&&(n.iX=e.x),e.y&&(n.iY=e.y)),n.GM=n.F,n.EJ=n.iY,n.FN&&(n.F+=n.FN.F,n.EJ+=n.FN.F,n.MB+=n.FN.F),n.KI&&(n.F+=n.KI.F,n.MB+=n.KI.F),n.D2.enabled&&!n.NA){var Y=new ZC.DT(n);Y.AR=" ",Y.append(n.o["page-status"]),null!==ZC._n_(Y.o.text)&&""!==Y.o.text||(Y.o.text="#"),Y.parse(),n.F+=Y.F+4,n.MB+=Y.F+4}B&&(n.o.width=null),X&&(n.o.height=null),n.NA||(n.I+=n.EP+n.FK,n.F+=n.FJ+n.FS),n.D["default-width"]&&(n.I=n.D["default-width"])}},alignPosition:function(e){var i=this;if(null!==ZC._n_(e)){var l=i.A.H.B8.B8.graph.legend,n=e.align||l.align,o=e["vertical-align"]||l["vertical-align"],a=e.layout||l.layout;(n||o)&&("center"===n?(null===ZC._n_(i.o.layout)&&(a=i.o.layout="horizontal"),i.o.position="50% "):i.o.position="left"===n?"0% ":"100% ",i.o.position+="middle"===o?"50%":"bottom"===o?"100%":"0%","horizontal"!==a&&"middle"!==o||(i.o["adjust-layout"]=!0))}},VK:function(e){var i=this;void 0===e&&(e=!0),i.A.D["legend-info"]={collapsed:i.NA,min:i.D2.min,max:i.D2.max,page:i.D2.page},e&&(i.A.A.D["graph-"+i.A.K+"-legend-info"]={x:i.iX,y:i.iY})},clear:function(e,i){null===ZC._n_(e)&&(e=!1),null===ZC._n_(i)&&(i=!1);var l=this,n=l.A.K+"-legend-",o=null;ZC.A5("."+n+"item",o).remove(),ZC.A5("."+n+"header",o).remove(),ZC.A5("."+n+"footer",o).remove(),ZC.A5("#"+n+"page-status",o).remove(),e&&!i||(ZC.move||l.unbind(),ZC.A5("."+n+"page-area",o).remove(),ZC.A5("."+n+"header-area",o).remove(),ZC.A5("."+n+"item-area",o).remove(),ZC.A5("."+n+"marker-area",o).remove()),ZC.move?ZC.Q.IQ(ZC.AK(n+"c"),l.A.H.AC,l.A.iX,l.A.iY,l.A.I,l.A.F):ZC.Q.IQ(ZC.AK(n+"c"),l.A.H.AC,l.iX-2*l.AT-2*l.JP,l.iY-2*l.AT-2*l.JP,l.I+4*l.AT+4*l.JP,l.F+4*l.AT+4*l.JP),l.DD&&ZC.Q.IQ(ZC.AK(n+"scroll-c"),l.A.H.AC,l.A.iX,l.A.iY,l.A.I,l.A.F)},unbind:function(){var e=this;ZC.A5("#"+e.K+"-frame").die(ZC.Q.BZ("mouseover"),e.zc_legend_mouseover).die(ZC.Q.BZ("mouseout"),e.zc_legend_mouseout),ZC.A5("#"+e.K+"-move-area").die(ZC.Q.BZ("mousedown"),e.Z0),ZC.A5("#"+e.K+"-minimize-area").die(ZC.Q.BZ("click"),e.XU),ZC.A5("."+e.K+"-page-area").die(ZC.Q.BZ("click"),e.YW),e.DD&&e.DD.unbind(),e.BR&&e.BR.o.reorder&&ZC.A5("."+e.A.K+"-legend-item-area").die("mousedown",e.VS)},fixPlacement:function(e){var i=this;if(i.YM&&null===ZC._n_(i.o.y)||e){if(!i.o.position&&e||(i.iX-=i.Q0),i.iX<i.DV&&(i.DV<i.E6||-2===i.E6)&&(i.iX=i.DV),!i.o.position&&e||(i.iY-=i.MB,i.EJ-=i.MB),i.iY<i.E5&&(i.E5<i.DP||-2===i.DP)){var l=i.EJ-i.iY;i.iY=i.E5,i.EJ=i.E5+l}i.YM=!1}},EM:function(e){var i=this;i.FN&&i.FN.EM(e),i.KI&&i.KI.EM(e);for(var l=0;l<i.XN.length;l++)i.XN[l].EM(e)},paint:function(e){var i,l,n,o,a,A,r,t,d,Z,s,g,C,c,p,u,m=this;if(m.AM&&(m.D["default-width"]||(m.D["default-width"]=m.I),m.B6)){var D=ZC.AK(m.H.K+"-top"),F=m.A.AY.A6,h=0;for(A=0,r=m.B6.length;A<r;A++)A<m.D2.min||A>=m.D2.max||m.NA||(h+=m.B6[A].AM?1:0);m.A57=!0,m.b(),m.FN&&(m.FN.iX=m.iX,m.FN.iY=m.iY,m.FN.I=m.I,m.FN.Z=m.FN.C6=m.Z,m.FN.paint(),ZC.move||"canvas"!==m.A.A.AC&&m.FN.EM(),m.V2&&"icon"===m.U9&&((n=new ZC.DX(m)).Z=m.Z,n.B7="#000",n.B0=1,n.DQ="line",n.append(m.o.icon),o=m.FN.iX+m.FN.I-10,a=m.FN.iY+m.FN.F/2,n.E=[[o-7,a],[o+7,a],null,[o,a-7],[o,a+7],null,[o-6,a-1],[o-6,a+1],null,[o-5,a-2],[o-5,a+2],null,[o+6,a-1],[o+6,a+1],null,[o+5,a-2],[o+5,a+2],null,[o-1,a-6],[o+1,a-6],null,[o-2,a-5],[o+2,a-5],null,[o-1,a+6],[o+1,a+6],null,[o-2,a+5],[o+2,a+5]],n.parse(),n.paint()),m.UO&&((l=new ZC.DX(m)).Z=m.Z,l.B7=ZC.AO.A9F(m.A0,"#fff","#000"),l.B0=1,l.append(m.o.icon),l.DQ="line",o=m.FN.iX+m.FN.I-10-(m.V2&&"icon"===m.U9?20:0),a=m.FN.iY+m.FN.F/2,l.E=[[o-7,a-2],[o+2,a-2],[o+2,a+7],[o-7,a+7],[o-7,a-2],[o+2,a-2],null,[o-4,a-5],[o+5,a-5],[o+5,a+4],[o-4,a+4],[o-4,a-5],[o+5,a-5]],l.parse(),l.paint())),m.KI&&(m.KI.iX=m.iX,m.KI.iY=m.iY+m.F-m.KI.F,m.KI.I=m.I,m.KI.Z=m.KI.C6=m.Z,m.KI.paint(),ZC.move||"canvas"!==m.A.A.AC&&m.KI.EM());var f=ZC.AP.A25(m.NC,h),_=f[0],B=f[1],X=m.I/B,v=m.GM/_,K=0,I=0;m.PY=[];var Y,b=0,N=-ZC.MAX,y=m.A2.D["show-line"]?3:2,x=null,M=0;for(m.XK=!1,A=0,r=m.B6.length;A<r;A++)if(!(A-M<m.D2.min||A-M>=m.D2.max||m.NA)){var Q=new ZC.DT(m);Q.copy(m.B6[A]),m.D["highlight-legend"]===A&&(Q.append({bold:!0}),null!==ZC._n_(m.o.item)&&Q.append(m.o.item["highlight-state"])),Y=Q.D.index;var w=new ZC.DT(m);w.OA="legenditem",w.K=m.K+"-item_"+Y,w.GJ="zc-legend-item "+m.K+"-item",w.copy(Q),m.A.D["plot"+Y+".visible"]&&"off"!==F[Y].o["legend-status"]||w.append(m.Z3.o),w.append(F[Y].o["legend-item"]),w.KE=function(i){var l=i;if(null===ZC._n_(e)&&(e=0),F[Y]&&F[Y].R[e]){var n=ZC.AO.O4(m.BR.o,F[Y].o);i=F[Y].FP(e).KE(i,n)}return m.XK=m.XK||i!==l,i},w.parse(),w.AM?("float"===m.NC?(N=ZC.BQ(N,Q.F),null===ZC._n_(x)?(Q.iX=m.iX+m.EP+Q.DV+y*Q.DH,Q.iY=m.EJ+m.FJ+Q.E5,b=m.EJ):(Q.iX=x.iX+x.I+x.E6+Q.DV+y*Q.DH,ZC._i_(Q.iX+Q.I+Q.E6)>ZC._i_(m.iX+m.I)&&(Q.iX=m.iX+m.EP+Q.DV+y*Q.DH,b+=N+Q.E5+Q.DP,N=-ZC.MAX),Q.iY=b+m.FJ+Q.E5)):(Q.iX=m.iX+(0===I?m.EP:0)+I*X+Q.DV+y*Q.DH,Q.iY=m.EJ+m.FJ+K*v+Q.E5,++I===B&&(I=0,K++)),x=Q,w.iX=Q.iX=ZC._i_(Q.iX),w.iY=Q.iY=ZC._i_(Q.iY),w.Z=w.C6=m.Z,w.iX+=m.BJ,w.iY+=m.BH,Y===m.N5&&(m.D["calculate-y"]&&(m.D["calculate-y"]=!1,m.D["dragged-offset-y"]=m.D["dragged-y"]-w.iY),w.iY=m.D["dragged-y"]-m.D["dragged-offset-y"]-w.DH/4),w.paint(),"undefined"!=typeof m.D.showhide&&null!==ZC._n_(m.D.showhide)||ZC.move||("canvas"!==m.A.A.AC?w.EM():m.XN.push(w))):M++;var E=m.A2.D.type;null!==ZC._n_(i=F[Y].o["legend-marker"])&&null!==ZC._n_(i.type)&&(E=i.type);var H=!1;"match"!==E&&"inherit"!==E||(H=!0,E=null!==ZC._n_(i=F[Y].A2.o.type)?i:"default");var R;switch(-1!==ZC.AV(["default","square"],E)?R=new ZC.HS(m):(R=new ZC.DX(m)).DQ=E,R.OA="legendmarker",R.append(m.A2.o),m.A.D["plot"+Y+".visible"]&&"off"!==F[Y].o["legend-status"]||R.append(m.NK.o),R.N4=F[Y].N4,F[Y].AF){case"pie":case"pie3d":case"nestedpie":case"vbar":case"vbar3d":case"hbar":case"hbar3d":case"vbullet":case"hbullet":case"area":case"area3d":case"gauge":case"vfunnel":case"hfunnel":case"venn":R.A0=F[Y].A0,R.AE=F[Y].AE,R.GR=F[Y].GR,R.HJ=F[Y].HJ;break;case"scatter":case"hscatter":case"bubble":case"hbubble":R.A0="-1"!==F[Y].A2.A0?F[Y].A2.A0:F[Y].A0,R.AE="-1"!==F[Y].A2.AE?F[Y].A2.AE:F[Y].AE,R.GR=""!==F[Y].A2.GR?F[Y].A2.GR:F[Y].GR,R.HJ=""!==F[Y].A2.HJ?F[Y].A2.HJ:F[Y].HJ;break;default:R.A0=F[Y].B7,R.AE=F[Y].B7}"line"!==R.DQ&&"area"!==R.DQ||(R.B7=R.A0,R.B0=2),H&&R.append(F[Y].A2.o),R.o["line-style"]="solid",R.o.type=R.DQ,R.append(F[Y].o["legend-marker"]),H&&(R.o.type=R.DQ),R.D["show-marker"]=!0,R.D["show-line"]=!1,null!==ZC._n_(i=R.o["show-line"])&&(R.D["show-line"]=ZC._b_(i)),null!==ZC._n_(i=w.o["show-line"])&&(R.D["show-line"]=ZC._b_(i)),null!==ZC._n_(i=w.o["show-marker"])&&(R.o.visible=ZC._b_(i)),-1!==ZC.AV(["default","square"],E)&&null!==ZC._n_(i=R.o.size)&&(null===ZC._n_(R.o.width)&&(R.o.width=2*ZC._i_(i)),null===ZC._n_(R.o.height)&&(R.o.height=2*ZC._i_(i))),R.K=m.K+"-marker_"+Y,R.Z=R.C6=m.Z,R.iX=w.iX-y*w.DH+(y-1)*w.DH/2+w.DH/2,R.iY=w.iY+(w.F-w.DH)/2+w.DH/2,R.parse(),m.D["highlight-legend"]===A&&(R.append({size:R.AI+1,width:R.I+2,height:R.F+2}),F[Y]&&F[Y].R[e]&&F[Y].R[e].GG&&R.append({A0:F[Y].R[e].GG.A0,AE:F[Y].R[e].GG.AE}),null!==ZC._n_(m.o.marker)&&R.append(m.o.marker["highlight-state"]),R.parse()),"line"===R.DQ?(R.o.points=[[R.iX-1.75*R.AI,R.iY],[R.iX+1.75*R.AI,R.iY]],R.parse()):"area"===R.DQ&&(R.o.points=[[R.iX-1.75*R.AI,R.iY+R.AI],[R.iX+1.75*R.AI,R.iY+R.AI],[R.iX+1*R.AI,R.iY-R.AI/2],[R.iX,R.iY],[R.iX-1.25*R.AI,R.iY-R.AI],[R.iX-1.75*R.AI,R.iY+R.AI]],R.parse());var z=R.iX+R.BJ,k=R.iY+R.BH;if(-1!==ZC.AV(["default","square"],E)&&(R.iX-=R.I/2,R.iY-=R.F/2),m.A.D["plot"+Y+".visible"]&&"off"!==F[Y].o["legend-status"]||(R.C5/=4),w.AM&&R.D["show-line"]){var P=ZC.Q.E9(m.Z,m.A.H.AC),J=new ZC.D0(m);J.Z=m.Z,J.copy(F[Y]),J.o["line-style"]=m.A2.GA,J.append(F[Y].o),J.append(m.A2.o),J.append(F[Y].o["legend-item"]),J.append(F[Y].o["legend-marker"]),J.parse(),m.A.D["plot"+Y+".visible"]||(J.C5=.25);var G=[],T=R.AM?2:1;t="box"===R.DQ?R.I/2:R.AI,G.push([z-T*t-(J.B0>1?1:0),k-(J.B0>1?.5:0)]),G.push([z+T*t,k-(J.B0>1?.5:0)]),J.CZ=!0,ZC.CR.paint(P,J,G)}Y===m.N5&&(R.iY=m.D["dragged-y"]-m.D["dragged-offset-y"]/2),R.AM&&w.AM&&R.paint(),m.PY.push(R);var V=!0;if(null!==ZC._n_(i=m.BR.o.toggle)&&(V=ZC._b_(i)),m.D["item.toggle"]=V,(w.AM||R.AM)&&-1===ZC.AV(m.A.H.KL,"skip_interactivity")){var O=R.BJ+("box"===R.DQ?R.iX+R.I/2:R.iX),L=R.BH+("box"===R.DQ?R.iY+R.F/2:R.iY);t="box"===R.DQ?R.I/2:R.AI,d="box"===R.DQ?R.F/2:R.AI;var U=(R.D["show-line"]?2:1)*t;ZC.AK(w.K+"-area")||(R.AM&&"disabled"!==m.PL&&"disabled"!==R.o["toggle-action"]&&(ZC.AK(R.K+"-area")||ZC.Q.HW({cls:m.K+"-marker-area zc-legend-marker-area zc-abs",id:R.K+"-area",wh:2*U+"/"+2*d,tl:L-d+"/"+(O-U),opacity:0,background:"#fff",cursor:R.IR,p:D,zidx:1})),w.AM&&"disabled"!==m.QX&&"disabled"!==w.o["toggle-action"]&&(ZC.AK(w.K+"-area")||ZC.Q.HW({cls:m.K+"-item-area zc-legend-item-area zc-abs",id:w.K+"-area",wh:w.I+"/"+w.F,tl:w.iY+w.BH+"/"+(w.iX+w.BJ),opacity:0,background:"#fff",cursor:w.IR,p:D,zidx:1})))}}if(m.DD&&!m.NA&&(m.DD.paint(),ZC.AK(m.K+"-scroll-c").style.display="block"),m.DD&&m.NA&&(ZC.AK(m.K+"-scroll-c").style.display="none"),m.D2.enabled&&!m.NA){var S=new ZC.DT(m);S.Z=S.C6=m.Z,S.K=m.K+"-page-status",S.AR=ZC.HH["legend-pagination"].replace("%page%",m.D2.page).replace("%pages%",m.D2.pages),S.append(m.o["page-status"]),S.parse(),m.I<S.I+48&&(S.AR=m.D2.page+"/"+m.D2.pages,S.parse()),S.iX=m.iX+m.I/2-S.I/2,S.iY=m.iY+m.F-(m.KI?m.KI.F:0)-S.F-4,S.AM&&S.paint();var W=m.A.H.B8,q="("+m.A.AF+")",$={"background-color":"#999"},j={"background-color":"#f90"};W.load($,q+".legend.page-off"),W.load(j,q+".legend.page-on"),(s=new ZC.DX(m)).Z=s.C6=m.Z,s.K=m.K+"-page-prev",s.A0=s.AE=m.D2.page>1?j["background-color"]:$["background-color"],s.append(m.D2.page>1?m.o["page-on"]:m.o["page-off"]),Z=m.iX+m.I/2-S.I/2-6,g=S.iY+S.F/2,s.parse(),s.AI=ZC.BQ(s.AI,8),u=ZC._i_(.75*s.AI),s.E=[[Z,g-u],[Z,g+u],[Z-s.AI,g],[Z,g-u]],s.parse(),s.AM&&s.paint(),(c=new ZC.DX(m)).Z=c.C6=m.Z,c.K=m.K+"-page-next",c.A0=c.AE=m.D2.page<m.D2.pages?j["background-color"]:$["background-color"],c.append(m.D2.page<m.D2.pages?m.o["page-on"]:m.o["page-off"]),C=m.iX+m.I/2+S.I/2+6,p=S.iY+S.F/2,c.parse(),c.AI=ZC.BQ(c.AI,8),u=ZC._i_(.75*c.AI),c.E=[[C,p-u],[C,p+u],[C+c.AI,p],[C,p-u]],c.parse(),c.AM&&c.paint()}if(!ZC.move){var ee=m.F,ie=m.iY;m.FN&&(ee-=m.FN.F,ie+=m.FN.F),ZC.AK(m.K+"-frame")?ZC.A5("#"+m.K+"-frame").css("top",ie+"px").css("left",m.iX+"px").css("width",m.I+"px").css("height",ee+"px"):ZC.Q.HW({cls:"zc-abs zc-legend-frame "+m.K+"-frame",id:m.K+"-frame",wh:m.I+"/"+ee,tl:ie+"/"+m.iX,opacity:0,background:"#fff",p:D,zidx:0}),m.D2.enabled&&!m.NA&&(m.D2.page>1&&ZC.Q.HW({cls:m.K+"-page-area zc-legend-page-area zc-abs",id:m.K+"-page-prev-area",wh:s.AI+"/"+2*s.AI,tl:ZC._i_(g+s.BH-s.AI)+"/"+ZC._i_(Z+s.BJ-s.AI),opacity:0,p:D,zidx:1}),m.D2.page<m.D2.pages&&ZC.Q.HW({cls:m.K+"-page-area zc-legend-page-area zc-abs",id:m.K+"-page-next-area",wh:c.AI+"/"+2*c.AI,tl:ZC._i_(p+s.BH-c.AI)+"/"+ZC._i_(C+c.BJ),opacity:0,p:D,zidx:1}));var le,ne;m.FN&&m.V2&&("icon"===m.U9?(ne=ZC._i_(m.FN.iY+ZC.MAPTX+n.BH)+"/"+ZC._i_(m.FN.iX+m.FN.I-20+ZC.MAPTX+n.BJ),le="20/"+m.FN.F):(ne=ZC._i_(m.FN.iY+ZC.MAPTX)+"/"+ZC._i_(m.FN.iX+ZC.MAPTX),le=m.FN.I-(m.UO?23:0)+"/"+m.FN.F),ZC.Q.HW({cls:m.K+"-header-area zc-legend-header-area zc-abs",id:m.K+"-move-area",wh:le,tl:ne,opacity:0,p:D,zidx:1})),m.UO&&(m.V2&&"icon"===m.U9?(ne=ZC._i_(m.FN.iY+ZC.MAPTX+l.BH)+"/"+ZC._i_(m.FN.iX+m.FN.I-41+ZC.MAPTX+l.BJ),le="20/"+m.FN.F):(ne=ZC._i_(m.FN.iY+ZC.MAPTX+l.BH)+"/"+ZC._i_(m.FN.iX+m.FN.I-22+ZC.MAPTX+l.BJ),le="20/"+m.FN.F),ZC.Q.HW({cls:m.K+"-header-area zc-legend-header-area zc-abs",id:m.K+"-minimize-area",wh:le,tl:ne,opacity:0,p:D,zidx:1})),m.OU=0,m.ZP=0,m.zc_legend_mouseover=function(){m.YP=!0},m.zc_legend_mouseout=function(){m.YP=!1},m.Z0=function(e){if(e.preventDefault(),m.H.hideCM(),ZC.move=!0,ZC.mobile||!(e.which>1)){m.A.A.D["graph-"+m.A.K+"-legend-info"]=null;var i=ZC.Q.MA(e),l=ZC.A5("#"+m.A.A.K+"-top").offset();m.OU=i[0]-l.left-m.FN.iX,m.ZP=i[1]-l.top-m.FN.iY,m.oldcursor=document.body.style.cursor,document.body.style.cursor="move",ZC.A5(document.body).bind(ZC.Q.BZ("mousemove"),m.YY),ZC.A5(document.body).bind(ZC.Q.BZ("mouseup"),m.A0J)}},m.YY=function(e){var i=ZC.Q.MA(e),l=ZC.A5("#"+m.A.A.K+"-top").offset(),n=i[0]-l.left-m.OU,o=i[1]-l.top-m.ZP;if(m.RZ?(n=ZC.BQ(n,m.H.iX+2),n=ZC.CY(n,m.H.iX+m.H.I-m.I-2),o=ZC.BQ(o,m.H.iY+2),o=ZC.CY(o,m.H.iY+m.H.F-m.F-4)):(n=ZC.BQ(n,m.A.iX+2),n=ZC.CY(n,m.A.iX+m.A.I-m.I-2),o=ZC.BQ(o,m.A.iY+2),o=ZC.CY(o,m.A.iY+m.A.F-m.F-4)),m.RZ||(n-=m.A.iX,o-=m.A.iY),m.o.x=n,m.o.y=o,m.o.position=null,m.clear(!0),m.parse(),m.paint(),m.FN){var a=m.RZ?m.A.A:m.A;m.A.A.D["legend"+m.A.L+"-xy-ratio"]=[n/a.I,o/(a.F-m.FN.F)]}},m.A0J=function(){ZC.move=!1,document.body.style.cursor=m.oldcursor,delete m.oldcursor,ZC.A5(document.body).unbind(ZC.Q.BZ("mousemove"),m.YY),ZC.A5(document.body).unbind(ZC.Q.BZ("mouseup"),m.A0J),m.XN=[],m.clear(!1),m.parse(),m.paint(),m.VK()},m.YW=function(e){m.D["default-width"]=null,-1!==(e.targetid||e.target.id).indexOf("-page-next-area")?(m.D2.min+=m.EG,m.D2.max+=m.EG,m.D2.page+=1):(m.D2.min-=m.EG,m.D2.max-=m.EG,m.D2.page-=1),(!(i=m.A.A.D["graph-"+m.A.K+"-legend-info"])||null===ZC._n_(i.x)&&null===ZC._n_(i.y))&&(m.iX=null,m.iY=null),m.VK(),m.A.K3()},m.XU=function(e){var i=m.NA?"legendmaximize":"legendminimize";e&&(m.A.A.D["legend-toggling"]=1),zingchart.exec(m.A.H.K,i,{graphid:m.A.L}),e&&(m.A.A.D["legend-toggling"]=0),e&&(m.A.A.D["g"+m.A.L+"-legend-collapsed"]="legendminimize"===i)},m.MN=function(e){ZC.move=!0;var i=ZC.Q.MA(e),l=ZC.A5("#"+m.A.A.K+"-top").offset(),n=i[0]-l.left,o=i[1]-l.top;m.D["dragged-x"]=n,m.D["dragged-y"]=o,m.VK(),m.clear(!1),m.parse(),m.paint()},m.VS=function(e){if(e.preventDefault(),m.H.hideCM(),m.IR=document.body.style.cursor,document.body.style.cursor="move",ZC.mobile||!(e.which>1)){var i=new RegExp("-legend-item_([0-9]+)-area","g").exec(e.target.id);i&&(m.D["dragged-offset-y"]=0,m.D["calculate-y"]=!0,m.D["dragged-x"]=0,m.D["dragged-y"]=0,m.N5=ZC._i_(i[1]),m.iDragPos=ZC.AV(m.A.AY.M1,m.N5),ZC.A5(document.body).bind(ZC.Q.BZ("mousemove"),m.MN),ZC.A5(document.body).bind(ZC.Q.BZ("mouseup"),m.X1))}},m.X1=function(){var e=m.N5,i=m.iDragPos;if(m.N5=-1,m.iDragPos=-1,m.D["calculate-y"]=!1,document.body.style.cursor=m.IR,ZC.move||(e=-1,i=-1),ZC.A5(document.body).unbind(ZC.Q.BZ("mousemove"),m.MN),ZC.A5(document.body).unbind(ZC.Q.BZ("mouseup"),m.X1),ZC.move&&-1!==e){for(var l=m.A.AY.A6,n=m.A.AY.M1,o=0,a=l.length;o<a;o++)l[o].o["legend-item"]=l[o].o["legend-item"]||{},null===ZC._n_(l[o].o["legend-item"].order)&&(l[o].o["legend-item"].order=ZC._i_(l[o].o["z-index"]||o+1));for(var A=l[e].o["legend-item"].order,r=-1,t=0,d=m.PY.length;t<d;t++)m.D["dragged-y"]-m.D["dragged-offset-y"]/2>m.PY[t].iY&&(r=t);for(l[e].o["legend-item"].order=-1===r?.5:l[n[r]].o["legend-item"].order+.5,t=0,d=m.PY.length;t<d;t++)r>i?l[t].o["legend-item"].order<l[e].o["legend-item"].order&&l[t].o["legend-item"].order>A&&l[t].o["legend-item"].order--:l[t].o["legend-item"].order>l[e].o["legend-item"].order&&l[t].o["legend-item"].order<A&&l[t].o["legend-item"].order++;for(l[e].o["legend-item"].order=r>i?Math.floor(l[e].o["legend-item"].order):Math.ceil(l[e].o["legend-item"].order),t=0,d=m.PY.length;t<d;t++)m.A.o.series[t]["z-index"]=l[t].o["legend-item"].order}m.A.AY.D["plot-sort"]=!0,ZC.move=!1,m.clear(!1),m.A.K3()},ZC.A5("#"+m.K+"-frame").live(ZC.Q.BZ("mouseover"),m.zc_legend_mouseover).live(ZC.Q.BZ("mouseout"),m.zc_legend_mouseout),ZC.A5("#"+m.K+"-move-area").live(ZC.Q.BZ("mousedown"),m.Z0),ZC.A5("#"+m.K+"-minimize-area").live(ZC.Q.BZ("click"),m.XU),ZC.A5("."+m.K+"-page-area").live(ZC.Q.BZ("click"),m.YW),m.BR.o.reorder&&ZC.A5("."+m.A.K+"-legend-item-area").live("mousedown",m.VS)}m.D.showhide=null,1===m.A.A.D["legend-toggling"]||ZC.move||(m.LX&&null===ZC._n_(m.A.A.D["g"+m.A.L+"-legend-collapsed"])||m.A.A.D["g"+m.A.L+"-legend-collapsed"]&&!m.NA)&&(window.setTimeout(function(){m.XU(!0)},0),m.A.A.D["g"+m.A.L+"-legend-collapsed"]=!0)}},gc:function(){ZC.AO.gc(this,["B6","E","PY","Z","C6","o","J5","I0","KI","FN","BR","Z3","H","A","A2","NK","D2"])}}),ZC.WO.push("legend"),ZC.JS.prototype.U4=function(){if(!zingchart.SKIP.LEGEND){var e,i=this;if(i.BF){if(i.BF.RZ&&i.L!==i.A.AH.length-1&&!i.BF.o.force)return;i.BF.Z=i.BF.C6=i.H.usc()?i.H.mc("top"):ZC.AK(i.K+"-legend-c"),i.BF.paint(),-1===ZC.AV(i.H.KL,"skip_interactivity")&&(i.QB=function(e){var l,n;if(!ZC.move){i.A8&&i.A.A8&&i.A8.AM&&i.A.A8.onmouseover(e);var o=e.targetid||e.target.id,a=ZC._i_(o.replace(i.K,"").replace("-legend-item_","").replace("-legend-marker_","").replace("-area","").replace("-marker","")),A=i.AY.A6[a];if(A.FV&&(i.BF.WC||A.I4)&&A.R.length)for(l=0,n=A.R.length;l<n;l++)null!==A.R[l]&&A.R[l].JB&&A.FP(l).A3H("highlight");ZC.move=!0;var r=A.L;A.o["legend-item"]&&null!==ZC._n_(A.o["legend-item"].order)&&(r=ZC._i_(A.o["legend-item"].order)),i.BF.highlightItem(r),ZC.move=!1;var t=i.AY.A6[a].UT(e);i.D["legend-action-index"]=a,ZC.AO.C0("legend_mouseover",i.A,t)}},i.PG=function(e){ZC.move||i.A8&&i.A.A8&&i.A8.AM&&i.A.A8.onmousemove(e)},i.R4=function(e){if(!ZC.move){i.A8&&i.A.A8&&i.A8.AM&&i.A.A8.onmouseout(e),i.LJ(),ZC.move=!0,i.BF.highlightItem(-1),ZC.move=!1;var l=ZC._c_(i.D["legend-action-index"],0),n=i.AY.A6[l].UT(e);ZC.AO.C0("legend_mouseout",i.A,n)}},i.zc_legend_mousescroll=function(e){i.BF.DD&&"scroll-y"===i.BF.DD.AF&&(e.preventDefault(),i.BF.DD.A3N(e))},i.SH=function(l){if(i.D.legend_toggle_action=!0,!(ZC.move||(zingchart.S8(l),l.which>1))){var n,o,a,A=l.targetid||l.target.id,r=ZC._b_(i.BF.BR.o.reorder);ZC.mobile&&i.H.A8&&i.H.A8.hide();var t="item";-1!==A.indexOf("-legend-marker_")&&(t="marker"),i.LJ(),l.preventDefault();var d=i.BF.II;"item"===t?d=i.BF.QX:"marker"===t&&(d=i.BF.PL),i.A.K5&&(d="remove"),i.D["legend-last-trigger"]=t;var Z=ZC._i_(A.replace(i.K+"-legend-item_","").replace(i.K+"-legend-marker_","").replace("-area",""));if(i.o.series&&i.o.series[Z]){if(null!==ZC._n_(e=i.o.series[Z]["legend-item"])){var s=e.url||"",g=e.target||"";""!==s&&i.UX(l,s,g)}i.o.series[Z].visible=!0}var C=i.AY.A6[Z].UT(l);C.visible=ZC._b_(i.D["plot"+Z+".visible"]),ZC.AO.C0("legend_"+t+"_click",i.A,C);var c,p,u;switch(d){default:break;case"hide":case"remove":if(l.shiftKey){var m=0;for(n=0,o=i.AY.A6.length;n<o;n++)if(n!==Z&&(m++,a=m===o-1,i.Q9({"ignore-legend":r,K3:a,plotindex:n,"toggle-action":d}),i.BF.RZ))for(c=0,p=i.H.AH.length;c<p;c++)(u=i.H.AH[c]).BF&&u.BF.RZ&&u.BF.A45===i.BF.A45&&u.K!==i.K&&u.Q9({"ignore-legend":!0,K3:a,plotindex:n,"toggle-action":d})}else if(i.Q9({"ignore-legend":r,K3:1,plotindex:Z,"toggle-action":d}),i.BF.RZ)for(c=0,p=i.H.AH.length;c<p;c++)(u=i.H.AH[c]).BF&&u.BF.RZ&&u.BF.A45===i.BF.A45&&u.K!==i.K&&u.Q9({"ignore-legend":!0,K3:1,plotindex:Z,"toggle-action":d})}"hide"===d&&i.D.hooks&&(i.OV(),i.QV())}},ZC.A5("."+i.K+"-legend-item-area").live("mouseup touchstart",i.SH).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A5("."+i.K+"-legend-marker-area").live("mouseup touchstart",i.SH).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A5("#"+i.K+"-legend-frame").live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.mobile||(ZC.A5("."+i.K+"-legend-item-area").live(ZC.Q.BZ("mouseover"),i.QB).live(ZC.Q.BZ("mouseout"),i.R4).live(ZC.Q.BZ("mousemove"),i.PG),ZC.A5("."+i.K+"-legend-marker-area").live(ZC.Q.BZ("mouseover"),i.QB).live(ZC.Q.BZ("mouseout"),i.R4).live(ZC.Q.BZ("mousemove"),i.PG)))}}};